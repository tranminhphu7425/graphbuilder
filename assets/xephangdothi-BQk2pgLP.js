import{r as c,j as e,L as i}from"./index-CV4aYnCP.js";import{v as b,u as y,e as w}from"./extendable-Bkc2CH56.js";import{C as j}from"./configfullpage-BbkJb8QN.js";import{i as N,L as k}from"./style-I8NVsvdw.js";import{N as v}from"./nhapdothi-Cuzztn2Y.js";const E=()=>{c.useEffect(()=>{let m=null;document.getElementById("graphForm").addEventListener("submit",function(s){s.preventDefault();let a=parseInt(document.getElementById("nodes").value),t=document.getElementById("edges").value.trim(),d=!0,o=t.split(`
`).map(g=>g.trim().split(" ").map(Number)),n=x(o,d,a),h=p(n,a);f(h),u(h,o)});function x(s,a,t){let d=Array.from({length:t+1},()=>[]);for(let[o,n]of s){if(o<1||o>t||n<1||n>t){console.error(`Số nút không hợp lệ: u=${o}, v=${n}, numNodes=${t}`);continue}d[o].push(n)}for(let o=1;o<=t;o++)d[o].sort((n,h)=>n-h);return d}function p(s,a){let t=new Array(a+1).fill(0),d=new Array(a+1).fill(0);for(let r=1;r<=a;r++)for(let l of s[r])t[l]++;let o=[],n=[];for(let r=1;r<=a;r++)t[r]===0&&o.push(r);let h=0;for(;o.length>0;){n=[];for(let r of o){d[r]=h;for(let l of s[r])t[l]--,t[l]===0&&n.push(l)}o=n,h++}let g=[];for(let r=1;r<=a;r++)g.push({node:r,rank:d[r]});return g}function f(s){let a=`Đỉnh | Hạng
`;a+=s.map(({node:t,rank:d})=>`${t} | ${d}`).join(`
`),console.log(a)}function u(s,a){const t=["#ffa500","#ff7f50","#6495ed","#ff69b4","#bdd482"];let d=s.map(({node:r,rank:l})=>({id:r,label:`${r} - ${l}`,color:t[l%t.length]})),o=a.map(([r,l])=>({from:r,to:l,arrows:"to"})),n=document.getElementById("mynetwork");n||(n=document.createElement("div"),n.id="mynetwork",n.style.height="500px",document.body.appendChild(n));let h={nodes:new b.DataSet(d),edges:new b.DataSet(o)},g={configure:{enabled:!1},nodes:{size:30,margin:50,font:{color:"#000000",size:30,align:"center"}},edges:{smooth:{type:"dynamic",roundness:.5},selfReferenceSize:20},interaction:{dragNodes:!0,hover:!0},physics:{enabled:!1,solver:"forceAtlas2Based",forceAtlas2Based:{springLength:200,springConstant:.02,centralGravity:.005,gravitationalConstant:-200},stabilization:{iterations:200},wind:{x:0,y:0}},layout:{hierarchical:{direction:"LR",sortMethod:"directed",shakeTowards:"roots"}}};m=new b.Network(n,h,g)}document.getElementById("zoomExtendsButton").addEventListener("click",function(){m.fit()})},[])},T=()=>{const[m,x]=c.useState(""),[p,f]=c.useState("");var[u,s]=c.useState(0);c.useEffect(()=>{y(),j(),N()},[]),c.useEffect(()=>{v()},[]),c.useEffect(()=>{u===1&&(v(),s(0))},[m,p,u]);const a=t=>{t.preventDefault(),s(1)};return E(),e.jsxs(e.Fragment,{children:[e.jsx("title",{children:"Xếp hạng đồ thị"}),e.jsxs("div",{className:"fade-in",children:[e.jsx("header",{children:e.jsx("nav",{className:" border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between mx-auto p-4 gap-[20px]",children:[e.jsx(k,{}),e.jsx("div",{className:"hidden w-full md:block md:w-auto",id:"navbar-dropdown",children:e.jsxs("ul",{className:`flex flex-col font-medium \r
      p-4 md:p-0 mt-0 border border-gray-100 rounded-lg\r
      md:space-x-8 rtl:space-x-reverse \r
      md:flex-row md:mt-0 md:border-0 border-gray-700\r
      transparentColor main-nav`,children:[e.jsx("li",{children:e.jsx(i,{to:"/",className:`block py-2 px-3 \r
          rounded-sm md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation`,"aria-current":"page",children:"Trang chủ"})}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink1","data-dropdown-toggle":"dropdownNavbar1",className:`flex items-center justify-between w-full py-2 px-3 \r
          rounded-sm md:hover:bg-transparent \r
          md:border-0 md:p-0 md:w-auto \r
          focus:text-white border-gray-700 md:bg-transparent \r
          font-bold navigation text-white hover:bg-gray-700`,children:["Tạo đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar1",className:`z-10 hidden font-normal bg-gray-700 divide-y \r
          divide-gray-100 rounded-lg shadow-sm w-30 divide-gray-600`,children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(i,{to:"/vedothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Vẽ đồ thị"})}),e.jsx("li",{children:e.jsx(i,{to:"/nhapdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Nhập đồ thị"})}),e.jsx("li",{children:e.jsx(i,{to:"/chuyendoi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Chuyển đổi"})})]})})]}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink2","data-dropdown-toggle":"dropdownNavbar2",className:`flex items-center justify-between w-full py-2 px-3 \r
          rounded-sm md:hover:bg-transparent\r
          md:border-0 md:p-0 md:w-auto \r
          focus:text-white border-gray-700 \r
          font-bold hover:bg-blue-700 navigation-checked bg-blue-700 md:bg-transparent`,children:["Phân tích đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar2",className:`z-10 hidden font-normal bg-gray-700 divide-y \r
          divide-gray-100 rounded-lg shadow-sm w-47 divide-gray-600`,children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(i,{to:"/duyetdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Duyệt đồ thị"})}),e.jsx("li",{children:e.jsx(i,{to:"/timlienthong",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm liên thông"})}),e.jsx("li",{children:e.jsx(i,{to:"/duongdingannhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm đường đi ngắn nhất"})}),e.jsx("li",{children:e.jsx(i,{to:"/xephangdothi",className:"block px-4 py-2 bg-gray-600 text-white",children:"Xếp hạng đồ thị"})}),e.jsx("li",{children:e.jsx(i,{to:"/caykhungnhonhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Cây khung nhỏ nhất"})}),e.jsx("li",{children:e.jsx(i,{to:"/timluongcucdai",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm luồng cực đại trong mạng"})})]})})]}),e.jsx("li",{children:e.jsx(i,{to:"/tainguyenhoctap",className:`block py-2 px-3 \r
          rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation`,children:"Tài nguyên & Học tập"})}),e.jsx("li",{children:e.jsx(i,{to:"/vechungtoi",className:"block py-2 px-3 rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:"Về chúng tôi"})})]})})]})})}),e.jsxs("main",{children:[e.jsxs("div",{className:"container",id:"formbox",children:[e.jsx("h2",{children:"Xếp hạng đồ thị"}),e.jsxs("form",{id:"graphForm",onSubmit:a,children:[e.jsxs("div",{className:"form-group",id:"munberNodes",children:[e.jsx("label",{htmlFor:"nodes",children:"Nhập số đỉnh:"}),e.jsx("input",{type:"number",id:"nodes",name:"nodes",min:"0",required:!0,value:m,onChange:t=>x(t.target.value)})]}),e.jsxs("div",{className:"listedges",children:[e.jsx("label",{htmlFor:"edges",children:"Nhập các cung:"}),e.jsx("textarea",{id:"edges",name:"edges",rows:"10",placeholder:`Ví dụ: 1 2 \r
       1 3\r
       2 4`,value:p,onChange:t=>f(t.target.value)})]}),e.jsx("div",{id:"graphOption",children:e.jsx("div",{className:"typeOfBrowe",children:e.jsx("div",{children:e.jsx("input",{type:"submit",id:"run",value:"Chạy",onClick:()=>s(1)})})})})]})]}),e.jsxs("div",{className:"graph-container container",children:[e.jsx("div",{id:"mynetwork"}),e.jsx("button",{id:"zoomExtendsButton",children:e.jsx("img",{src:w,alt:"",width:40})})]})]})]})]})};export{T as default};

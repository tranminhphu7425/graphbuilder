import{r as u,j as e,L as c}from"./index-6t0dovho.js";import{v as w,u as N}from"./vis-network-wrapper-wtU2UVF3.js";import{C as k}from"./configfullpage-C9w5IjMc.js";import{i as E,L as B}from"./index-BqYi3UiT.js";import{N as I}from"./nhapdothi-C-KVQZ1n.js";const L=()=>{u.useEffect(()=>{let p=null;function f(d){d.preventDefault();const a=parseInt(document.getElementById("nodes").value),o=document.getElementById("edges").value,r=document.getElementById("directed").checked,s=parseInt(document.getElementById("startNode").value),n=o.split(`
`).map(l=>{const t=l.trim().split(" ").map(Number);return t.length===2?{from:t[0],to:t[1],weight:1}:t.length===3?{from:t[0],to:t[1],weight:t[2]}:null}).filter(l=>l!==null);var i=v(a,n,r);const{distances:m,previous:g}=b(i,s);y(a,m,g),j(a,n,r,g)}function y(d,a,o){const r=document.getElementById("result"),s=document.querySelector("#resultTable tbody");s.innerHTML="";for(let n=1;n<=d;n++){const i=document.createElement("tr");i.innerHTML=`
            <td>${n}</td>
            <td>${a[n]===1/0?"No path":a[n]}</td>
            <td>${o[n]!==null?o[n]:"-"}</td>
          `,s.appendChild(i)}r.style.display="block"}function v(d,a,o){const s=Array.from({length:d+1},()=>Array(d+1).fill(1/0));for(let n=1;n<=d;n++)s[n][n]=0;return a.forEach(({from:n,to:i,weight:m})=>{s[n][i]=m,o||(s[i][n]=m)}),s}function b(d,a){const o=d.length-1,r=1/0,s=new Array(o+1).fill(r),n=new Array(o+1).fill(!1),i=new Array(o+1).fill(null);s[a]=0,i[a]=-1;for(let m=1;m<o;m++){let g=r,l=-1;for(let t=1;t<=o;t++)!n[t]&&s[t]<g&&(g=s[t],l=t);if(l===-1)break;n[l]=!0;for(let t=1;t<=o;t++)if(d[l][t]!==r&&!n[t]){let h=s[l]+d[l][t];h<s[t]&&(s[t]=h,i[t]=l)}}return{distances:s,previous:i}}function j(d,a,o,r){const s=Array.from({length:d},(t,h)=>({id:h+1,label:`${h+1}`})),n=a.map(t=>({from:t.from,to:t.to,label:`${t.weight}`,arrows:o?"to":"",color:{color:"black"},width:1})),i=[];for(let t=1;t<=d;t++)r[t]!==null&&i.push({from:r[t],to:t});n.forEach(t=>{i.some(h=>h.from===t.from&&h.to===t.to||h.from===t.to&&h.to===t.from)&&(t.color={color:"red"},t.width=3)});const m=document.getElementById("mynetwork"),g={nodes:new w.DataSet(s),edges:new w.DataSet(n)},l={configure:{enabled:!1},nodes:{shape:"dot",color:"#bdd482",size:40,margin:10,font:{color:"#000000",size:40,vadjust:-80,align:"center"}},edges:{smooth:{type:"dynamic",roundness:.5},selfReferenceSize:20,length:void 0,font:{size:30,align:"horizontal"}},interaction:{dragNodes:!0,hover:!0},physics:{enabled:!0,solver:"forceAtlas2Based",forceAtlas2Based:{springLength:200,springConstant:.02,centralGravity:.005,gravitationalConstant:-80},stabilization:{iterations:200},wind:{x:0,y:0}}};p=new w.Network(m,g,l)}const x=document.getElementById("graphForm");x&&x.addEventListener("submit",f),document.getElementById("zoomExtendsButton").addEventListener("click",function(){p.fit()})},[])},z=()=>{const[p,f]=u.useState(""),[y,v]=u.useState(""),[b,j]=u.useState(!0),[x,d]=u.useState(!1),[a,o]=u.useState("");return u.useEffect(()=>{N(),k(),E()},[]),I(),L(),e.jsxs(e.Fragment,{children:[e.jsx("title",{children:"Đường đi ngắn nhất"}),e.jsx("link",{rel:"stylesheet",href:"/src/style/style.css"}),e.jsx("header",{children:e.jsx("nav",{className:" border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between mx-auto p-4 gap-[20px]",children:[e.jsx(B,{}),e.jsx("div",{className:"hidden w-full md:block md:w-auto",id:"navbar-dropdown",children:e.jsxs("ul",{className:`flex flex-col font-medium \r
      p-4 md:p-0 mt-4 border border-gray-100 rounded-lg\r
      md:space-x-8 rtl:space-x-reverse \r
      md:flex-row md:mt-0 md:border-0 border-gray-700\r
      transparentColor main-nav`,children:[e.jsx("li",{children:e.jsx(c,{to:"/",className:`block py-2 px-3 \r
          rounded-sm md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation`,"aria-current":"page",children:"Trang chủ"})}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink1","data-dropdown-toggle":"dropdownNavbar1",className:`flex items-center justify-between w-full py-2 px-3 \r
          rounded-sm md:hover:bg-transparent \r
          md:border-0 md:p-0 md:w-auto \r
          focus:text-white border-gray-700 md:bg-transparent \r
          font-bold navigation text-white hover:bg-gray-700`,children:["Tạo đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar1",className:`z-10 hidden font-normal bg-gray-700 divide-y \r
          divide-gray-100 rounded-lg shadow-sm w-30 divide-gray-600`,children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(c,{to:"/vedothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Vẽ đồ thị"})}),e.jsx("li",{children:e.jsx(c,{to:"/nhapdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Nhập đồ thị"})})]})})]}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink2","data-dropdown-toggle":"dropdownNavbar2",className:`flex items-center justify-between w-full py-2 px-3 \r
          rounded-sm md:hover:bg-transparent\r
          md:border-0 md:p-0 md:w-auto \r
          focus:text-white border-gray-700 \r
          font-bold hover:bg-blue-700 navigation-checked bg-blue-700 md:bg-transparent`,children:["Phân tích đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar2",className:`z-10 hidden font-normal bg-gray-700 divide-y \r
          divide-gray-100 rounded-lg shadow-sm w-47 divide-gray-600`,children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(c,{to:"/duyetdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Duyệt đồ thị"})}),e.jsx("li",{children:e.jsx(c,{to:"/timlienthong",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm liên thông"})}),e.jsx("li",{children:e.jsx(c,{to:"/duongdingannhat",className:"block px-4 py-2 bg-gray-600 text-white",children:"Tìm đường đi ngắn nhất"})}),e.jsx("li",{children:e.jsx(c,{to:"/xephangdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Xếp hạng đồ thị"})}),e.jsx("li",{children:e.jsx(c,{to:"/caykhungnhonhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Cây khung nhỏ nhất"})}),e.jsx("li",{children:e.jsx(c,{to:"/timluongcucdai",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm luồng cực đại trong mạng"})})]})})]}),e.jsx("li",{children:e.jsx(c,{to:"#",className:`block py-2 px-3 \r
          rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation`,children:"Tài nguyên & Học tập"})}),e.jsx("li",{children:e.jsx(c,{to:"/vechungtoi",className:"block py-2 px-3 rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:"Về chúng tôi"})})]})})]})})}),e.jsxs("main",{children:[e.jsxs("div",{className:"container",id:"formbox",children:[e.jsx("h2",{children:"Tìm đường ngắn nhất"}),e.jsxs("form",{id:"graphForm",onSubmit:r=>r.preventDefault(),children:[e.jsxs("div",{className:"form-group",id:"munberNodes",children:[e.jsx("label",{htmlFor:"nodes",children:"Nhập số đỉnh:"}),e.jsx("input",{type:"number",id:"nodes",name:"nodes",min:"0",required:!0,value:p,onChange:r=>f(r.target.value)})]}),e.jsxs("div",{className:"listedges",children:[e.jsx("label",{htmlFor:"edges",children:"Nhập các cung:"}),e.jsx("textarea",{id:"edges",name:"edges",rows:"12",placeholder:`Ví dụ: 1 2 3\r
       1 3 2\r
       2 4 5`,value:y,onChange:r=>v(r.target.value)})]}),e.jsxs("div",{id:"graphOption",children:[e.jsx("input",{type:"hidden",id:"isWeightedGraph",name:"isWeightedGraph",checked:b,onChange:()=>j(!b)}),e.jsxs("label",{className:"switch",children:["Có hướng",e.jsx("input",{type:"checkbox",id:"directed",name:"directed",checked:x,onChange:()=>d(!x)}),e.jsx("span",{className:"slider"})]}),e.jsxs("div",{className:"start",children:[e.jsx("label",{htmlFor:"startNode",children:"Đi từ đỉnh:"}),e.jsx("input",{type:"number",name:"startNode",id:"startNode",min:"0",value:a,onChange:r=>o(r.target.value)})]}),e.jsx("div",{className:"typeOfBrowe",children:e.jsx("div",{children:e.jsx("input",{type:"submit",id:"run",value:"Chạy"})})})]})]})]}),e.jsxs("div",{className:"graph-container container",children:[e.jsx("div",{id:"mynetwork"}),e.jsx("button",{id:"zoomExtendsButton",children:e.jsx("img",{src:"src\\assets\\img\\extendable.png",alt:"",width:40})})]}),e.jsxs("div",{id:"result",className:"container",children:[e.jsx("h2",{children:"Kết quả"}),e.jsxs("table",{border:"1",id:"resultTable",style:{width:"100%",textAlign:"center"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Đỉnh"}),e.jsx("th",{children:"Khoảng cách"}),e.jsx("th",{children:"Trước đó"})]})}),e.jsx("tbody",{})]})]})]})]})};export{z as default};

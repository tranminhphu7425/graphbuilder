import{r as m,j as e,L as c}from"./index-BPX8ju6R.js";import{v as j,u as N,e as k}from"./extendable-Bkc2CH56.js";import{C as E}from"./configfullpage-C5b7PU60.js";import{i as T,L as C}from"./style-CTMkXn6G.js";import{N as w}from"./nhapdothi-Cuzztn2Y.js";const L=()=>{m.useEffect(()=>{let u=null;function b(l){l.preventDefault();const o=parseInt(document.getElementById("nodes").value),d=document.getElementById("edges").value,r=document.getElementById("directed").checked,n=d.split(`
`).map(t=>{const s=t.trim().split(" ").map(Number);return s.length===2?{from:s[0],to:s[1],weight:1}:s.length===3?{from:s[0],to:s[1],weight:s[2]}:null}).filter(t=>t!==null),i=r?f(o,n,1):v(o,n);p(i),y(o,n,r,i)}function p(l){const o=document.getElementById("result"),d=document.querySelector("#resultTable tbody");d.innerHTML="";var r=0;l.forEach((i,t)=>{const s=document.createElement("tr");s.innerHTML=`
            <td>${t+1}</td>
            <td>${i.from}</td>
            <td>${i.to}</td>
            <td>${i.weight}</td>
          `,d.appendChild(s),r+=i.weight}),o.style.display="block";let n=document.getElementById("sumWeight");n||(n=document.createElement("div"),n.id="sumWeight",o.appendChild(n)),n.innerHTML=`<div style="margin-top: 10px"><b>Tổng trọng lượng cây khung là: ${r}</b></div>`}function v(l,o){o.sort((t,s)=>t.weight-s.weight);const d=new Array(l+1).fill(-1);function r(t){return d[t]===-1?t:r(d[t])}function n(t,s){const a=r(t),h=r(s);return a!==h?(d[h]=a,!0):!1}const i=[];for(const t of o)n(t.from,t.to)&&i.push(t);return i}function f(l,o,d=1){const r=new Set,n=[],i=[...o];for(r.add(d);r.size<l;){let t=null,s=1/0;for(let a of i)r.has(a.from)&&!r.has(a.to)&&a.weight<s&&(s=a.weight,t=a);if(t)n.push(t),r.add(t.to);else{for(let a of i)if(!r.has(a.to)&&r.size<l){t=a;break}if(t)n.push(t),r.add(t.to);else break}}return n}function y(l,o,d,r){const n=Array.from({length:l},(h,x)=>({id:x+1,label:`${x+1}`})),i=o.map(h=>({from:h.from,to:h.to,label:`${h.weight}`,arrows:d?"to":"",color:{color:"black"},width:1}));i.forEach(h=>{r.some(x=>x.from===h.from&&x.to===h.to)&&(h.color={color:"red"},h.width=3)});const t=document.getElementById("mynetwork"),s={nodes:new j.DataSet(n),edges:new j.DataSet(i)},a={configure:{enabled:!1},nodes:{shape:"dot",color:"#bdd482",size:40,margin:10,font:{color:"#000000",size:40,vadjust:-80,align:"center"}},edges:{smooth:{type:"dynamic",roundness:.5},selfReferenceSize:20,length:void 0,font:{size:30,align:"horizontal"}},interaction:{dragNodes:!0,hover:!0},physics:{enabled:!0,solver:"forceAtlas2Based",forceAtlas2Based:{springLength:200,springConstant:.02,centralGravity:.005,gravitationalConstant:-80},stabilization:{iterations:200},wind:{x:0,y:0}}};u=new j.Network(t,s,a)}const g=document.getElementById("graphForm");g&&g.addEventListener("submit",b),document.getElementById("zoomExtendsButton").addEventListener("click",function(){u.fit()})},[])},D=()=>{const[u,b]=m.useState(""),[p,v]=m.useState(""),[f,y]=m.useState(!0),[g,l]=m.useState(!1);var[o,d]=m.useState(0);m.useEffect(()=>{N(),E(),T()},[]),m.useEffect(()=>{w()},[]),m.useEffect(()=>{o===1&&(w(),d(0))},[u,p,g,o]);const r=n=>{n.preventDefault(),d(1)};return L(),e.jsxs(e.Fragment,{children:[e.jsx("title",{children:"Tìm cây khung nhỏ nhất"}),e.jsxs("div",{className:"fade-in",children:[e.jsx("header",{children:e.jsx("nav",{className:" border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between mx-auto p-4 gap-[20px]",children:[e.jsx(C,{}),e.jsx("div",{className:"hidden w-full md:block md:w-auto",id:"navbar-dropdown",children:e.jsxs("ul",{className:`flex flex-col font-medium \r
      p-4 md:p-0 mt-0 border border-gray-100 rounded-lg\r
      md:space-x-8 rtl:space-x-reverse \r
      md:flex-row md:mt-0 md:border-0 border-gray-700\r
      transparentColor main-nav`,children:[e.jsx("li",{children:e.jsx(c,{to:"/",className:`block py-2 px-3 \r
          rounded-sm md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation`,"aria-current":"page",children:"Trang chủ"})}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink1","data-dropdown-toggle":"dropdownNavbar1",className:`flex items-center justify-between w-full py-2 px-3 \r
          rounded-sm md:hover:bg-transparent \r
          md:border-0 md:p-0 md:w-auto \r
          focus:text-white border-gray-700 md:bg-transparent \r
          font-bold navigation text-white hover:bg-gray-700`,children:["Tạo đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar1",className:`z-10 hidden font-normal bg-gray-700 divide-y \r
          divide-gray-100 rounded-lg shadow-sm w-30 divide-gray-600`,children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(c,{to:"/vedothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Vẽ đồ thị"})}),e.jsx("li",{children:e.jsx(c,{to:"/nhapdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Nhập đồ thị"})}),e.jsx("li",{children:e.jsx(c,{to:"/chuyendoi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Chuyển đổi"})})]})})]}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink2","data-dropdown-toggle":"dropdownNavbar2",className:`flex items-center justify-between w-full py-2 px-3 \r
          rounded-sm md:hover:bg-transparent\r
          md:border-0 md:p-0 md:w-auto \r
          focus:text-white border-gray-700 \r
          font-bold hover:bg-blue-700 navigation-checked bg-blue-700 md:bg-transparent`,children:["Phân tích đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar2",className:`z-10 hidden font-normal bg-gray-700 divide-y \r
          divide-gray-100 rounded-lg shadow-sm w-47 divide-gray-600`,children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(c,{to:"/duyetdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Duyệt đồ thị"})}),e.jsx("li",{children:e.jsx(c,{to:"/timlienthong",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm liên thông"})}),e.jsx("li",{children:e.jsx(c,{to:"/duongdingannhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm đường đi ngắn nhất"})}),e.jsx("li",{children:e.jsx(c,{to:"/xephangdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Xếp hạng đồ thị"})}),e.jsx("li",{children:e.jsx(c,{to:"/caykhungnhonhat",className:"block px-4 py-2 bg-gray-600 text-white",children:"Cây khung nhỏ nhất"})}),e.jsx("li",{children:e.jsx(c,{to:"/timluongcucdai",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm luồng cực đại trong mạng"})})]})})]}),e.jsx("li",{children:e.jsx(c,{to:"/tainguyenhoctap",className:`block py-2 px-3 \r
          rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation`,children:"Tài nguyên & Học tập"})}),e.jsx("li",{children:e.jsx(c,{to:"/vechungtoi",className:"block py-2 px-3 rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:"Về chúng tôi"})})]})})]})})}),e.jsxs("main",{children:[e.jsxs("div",{className:"container",id:"formbox",children:[e.jsx("h2",{children:"Tìm cây khung nhỏ nhất"}),e.jsxs("form",{id:"graphForm",onSubmit:r,children:[e.jsxs("div",{className:"form-group",id:"munberNodes",children:[e.jsx("label",{htmlFor:"nodes",children:"Nhập số đỉnh:"}),e.jsx("input",{type:"number",id:"nodes",name:"nodes",min:"0",required:!0,value:u,onChange:n=>b(n.target.value)})]}),e.jsxs("div",{className:"listedges",children:[e.jsx("label",{htmlFor:"edges",children:"Nhập các cung:"}),e.jsx("textarea",{id:"edges",name:"edges",rows:"12",placeholder:`Ví dụ: 1 2 3\r
       1 3 2\r
       2 4 5`,value:p,onChange:n=>v(n.target.value)})]}),e.jsxs("div",{id:"graphOption",children:[e.jsx("input",{type:"hidden",id:"isWeightedGraph",name:"isWeightedGraph",checked:f,onChange:()=>y(!f)}),e.jsxs("label",{className:"switch m-0",children:["Có hướng",e.jsx("input",{type:"checkbox",id:"directed",name:"directed",checked:g,onChange:()=>l(!g)}),e.jsx("span",{className:"slider"})]}),e.jsx("div",{className:"typeOfBrowe",children:e.jsx("div",{children:e.jsx("input",{type:"submit",id:"run",value:"Chạy",onClick:()=>d(1)})})})]})]})]}),e.jsxs("div",{className:"graph-container container",children:[e.jsx("div",{id:"mynetwork"}),e.jsx("button",{id:"zoomExtendsButton",children:e.jsx("img",{src:k,alt:"",width:40})})]}),e.jsxs("div",{id:"result",className:"container",children:[e.jsx("h2",{children:"Kết quả"}),e.jsxs("table",{border:"1",id:"resultTable",style:{width:"100%",textAlign:"center"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"STT"}),e.jsx("th",{children:"Từ"}),e.jsx("th",{children:"Đến"}),e.jsx("th",{children:"Trọng số"})]})}),e.jsx("tbody",{})]})]})]})]})]})};export{D as default};

import{r as x,j as e,L as u}from"./index-CR8925dy.js";import{v as T,u as S,e as z}from"./extendable-DSmNOy0c.js";import{C as W}from"./configfullpage-BJoaBmR5.js";import{i as A,L as D}from"./style-Dsd_AvIZ.js";import{N as $}from"./nhapdothi-B2AJmNI8.js";const F=()=>{x.useEffect(()=>{let w=null;function j(a){a.preventDefault();const r=parseInt(document.getElementById("nodes").value),o=document.getElementById("edges").value,c=document.getElementById("directed").checked,l=o.split(`
`).map(n=>{const i=n.trim().split(" ").map(Number);return i.length===2?{from:i[0],to:i[1],weight:1}:i.length===3?{from:i[0],to:i[1],weight:i[2]}:null}).filter(n=>n!==null),s=c?y(r,l,1):k(r,l);N(s),E(r,l,c,s)}function N(a){const r=document.getElementById("result"),o=document.querySelector("#resultTable tbody");o.innerHTML="";var c=0;a.forEach((s,n)=>{const i=document.createElement("tr");i.innerHTML=`
            <td>${n+1}</td>
            <td>${s.from}</td>
            <td>${s.to}</td>
            <td>${s.weight}</td>
          `,o.appendChild(i),c+=s.weight}),r.style.display="block";let l=document.getElementById("sumWeight");l||(l=document.createElement("div"),l.id="sumWeight",r.appendChild(l)),l.innerHTML=`<div style="margin-top: 10px"><b>Tổng trọng lượng cây khung là: ${c}</b></div>`}function k(a,r){r.sort((n,i)=>n.weight-i.weight);const o=new Array(a+1).fill(-1);function c(n){return o[n]===-1?n:c(o[n])}function l(n,i){const h=c(n),m=c(i);return h!==m?(o[m]=h,!0):!1}const s=[];for(const n of r)l(n.from,n.to)&&s.push(n);return s}function y(a,r,o){if(a<=1||r.length===0)return[];const c=new Set([o]);let l;do l=!1,r.forEach(t=>{c.has(t.from)&&!c.has(t.to)&&(c.add(t.to),l=!0)});while(l);if(c.size!==a)return[];const s=[],n=new Array(a+1).fill(null);for(const t of r)t.to!==o&&(n[t.to]===null||t.weight<n[t.to].weight)&&(n[t.to]=t);const i=new Array(a+1).fill(!1),h=new Array(a+1).fill(!1);let m=!1;for(let t=1;t<=a;t++)if(!i[t]&&t!==o){let d=t;const g=[];for(;d!==o&&!i[d]&&(i[d]=!0,g.push(d),n[d]!==null);)d=n[d].from;if(d!==o&&i[d]){m=!0;const B=g.indexOf(d);g.slice(B).forEach(I=>h[I]=!0)}}if(!m){for(let t=1;t<=a;t++)t!==o&&n[t]!==null&&s.push(n[t]);return s}const f=[];for(let t=1;t<=a;t++)h[t]&&f.push(t);const C=a-f.length+1,v=[],p=C;for(const t of r)if(!h[t.from]&&!h[t.to])v.push({...t});else if(h[t.from]&&!h[t.to])v.push({from:p,to:t.to,weight:t.weight});else if(!h[t.from]&&h[t.to]){const d=n[t.to];d&&v.push({from:t.from,to:p,weight:t.weight-d.weight})}if(v.length===0||C<=1)return[];const L=y(C,v,o===p?o:o>p?o-f.length+1:o);if(L.length===0)return[];for(const t of L)if(t.from===p){const d=r.find(g=>h[g.from]&&g.to===t.to&&(!n[g.to]||g.weight<=n[g.to].weight));d&&s.push(d)}else if(t.to===p){const d=f.find(g=>n[g]&&n[g].from===t.from);d&&n[d]&&s.push(n[d])}else s.push(t);return f.forEach(t=>{n[t]&&h[n[t].from]&&s.push(n[t])}),s}function E(a,r,o,c){const l=Array.from({length:a},(m,f)=>({id:f+1,label:`${f+1}`})),s=r.map(m=>({from:m.from,to:m.to,label:`${m.weight}`,arrows:o?"to":"",color:{color:"black"},width:1}));s.forEach(m=>{c.some(f=>f.from===m.from&&f.to===m.to)&&(m.color={color:"red"},m.width=3)});const n=document.getElementById("mynetwork"),i={nodes:new T.DataSet(l),edges:new T.DataSet(s)},h={configure:{enabled:!1},nodes:{shape:"dot",color:"#bdd482",size:40,margin:10,font:{color:"#000000",size:40,vadjust:-80,align:"center"}},edges:{smooth:{type:"dynamic",roundness:.5},selfReferenceSize:20,length:void 0,font:{size:30,align:"horizontal"}},interaction:{dragNodes:!0,hover:!0},physics:{enabled:!0,solver:"forceAtlas2Based",forceAtlas2Based:{springLength:200,springConstant:.02,centralGravity:.005,gravitationalConstant:-80},stabilization:{iterations:200},wind:{x:0,y:0}}};w=new T.Network(n,i,h)}const b=document.getElementById("graphForm");b&&b.addEventListener("submit",j),document.getElementById("zoomExtendsButton").addEventListener("click",function(){w.fit()})},[])},V=()=>{const[w,j]=x.useState(""),[N,k]=x.useState(""),[y,E]=x.useState(!0),[b,a]=x.useState(!1);return x.useEffect(()=>{S(),W(),A()},[]),$(),F(),e.jsxs(e.Fragment,{children:[e.jsx("title",{children:"Tìm cây khung nhỏ nhất"}),e.jsxs("div",{className:"fade-in",children:[e.jsx("header",{children:e.jsx("nav",{className:" border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between mx-auto p-4 gap-[20px]",children:[e.jsx(D,{}),e.jsx("div",{className:"hidden w-full md:block md:w-auto",id:"navbar-dropdown",children:e.jsxs("ul",{className:`flex flex-col font-medium \r
      p-4 md:p-0 mt-0 border border-gray-100 rounded-lg\r
      md:space-x-8 rtl:space-x-reverse \r
      md:flex-row md:mt-0 md:border-0 border-gray-700\r
      transparentColor main-nav`,children:[e.jsx("li",{children:e.jsx(u,{to:"/",className:`block py-2 px-3 \r
          rounded-sm md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation`,"aria-current":"page",children:"Trang chủ"})}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink1","data-dropdown-toggle":"dropdownNavbar1",className:`flex items-center justify-between w-full py-2 px-3 \r
          rounded-sm md:hover:bg-transparent \r
          md:border-0 md:p-0 md:w-auto \r
          focus:text-white border-gray-700 md:bg-transparent \r
          font-bold navigation text-white hover:bg-gray-700`,children:["Tạo đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar1",className:`z-10 hidden font-normal bg-gray-700 divide-y \r
          divide-gray-100 rounded-lg shadow-sm w-30 divide-gray-600`,children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(u,{to:"/vedothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Vẽ đồ thị"})}),e.jsx("li",{children:e.jsx(u,{to:"/nhapdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Nhập đồ thị"})}),e.jsx("li",{children:e.jsx(u,{to:"/chuyendoi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Chuyển đổi"})})]})})]}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink2","data-dropdown-toggle":"dropdownNavbar2",className:`flex items-center justify-between w-full py-2 px-3 \r
          rounded-sm md:hover:bg-transparent\r
          md:border-0 md:p-0 md:w-auto \r
          focus:text-white border-gray-700 \r
          font-bold hover:bg-blue-700 navigation-checked bg-blue-700 md:bg-transparent`,children:["Phân tích đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar2",className:`z-10 hidden font-normal bg-gray-700 divide-y \r
          divide-gray-100 rounded-lg shadow-sm w-47 divide-gray-600`,children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(u,{to:"/duyetdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Duyệt đồ thị"})}),e.jsx("li",{children:e.jsx(u,{to:"/timlienthong",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm liên thông"})}),e.jsx("li",{children:e.jsx(u,{to:"/duongdingannhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm đường đi ngắn nhất"})}),e.jsx("li",{children:e.jsx(u,{to:"/xephangdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Xếp hạng đồ thị"})}),e.jsx("li",{children:e.jsx(u,{to:"/caykhungnhonhat",className:"block px-4 py-2 bg-gray-600 text-white",children:"Cây khung nhỏ nhất"})}),e.jsx("li",{children:e.jsx(u,{to:"/timluongcucdai",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm luồng cực đại trong mạng"})})]})})]}),e.jsx("li",{children:e.jsx(u,{to:"/tainguyenhoctap",className:`block py-2 px-3 \r
          rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation`,children:"Tài nguyên & Học tập"})}),e.jsx("li",{children:e.jsx(u,{to:"/vechungtoi",className:"block py-2 px-3 rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:"Về chúng tôi"})})]})})]})})}),e.jsxs("main",{children:[e.jsxs("div",{className:"container",id:"formbox",children:[e.jsx("h2",{children:"Tìm cây khung nhỏ nhất vô hướng"}),e.jsxs("form",{id:"graphForm",onSubmit:r=>r.preventDefault(),children:[e.jsxs("div",{className:"form-group",id:"munberNodes",children:[e.jsx("label",{htmlFor:"nodes",children:"Nhập số đỉnh:"}),e.jsx("input",{type:"number",id:"nodes",name:"nodes",min:"0",required:!0,value:w,onChange:r=>j(r.target.value)})]}),e.jsxs("div",{className:"listedges",children:[e.jsx("label",{htmlFor:"edges",children:"Nhập các cung:"}),e.jsx("textarea",{id:"edges",name:"edges",rows:"12",placeholder:`Ví dụ: 1 2 3\r
       1 3 2\r
       2 4 5`,value:N,onChange:r=>k(r.target.value)})]}),e.jsxs("div",{id:"graphOption",children:[e.jsx("input",{type:"hidden",id:"isWeightedGraph",name:"isWeightedGraph",checked:y,onChange:()=>E(!y)}),e.jsx("label",{className:"switch m-0",children:e.jsx("input",{type:"none",id:"directed",name:"directed",checked:b,onChange:()=>a(!b)})}),e.jsx("div",{className:"typeOfBrowe",children:e.jsx("div",{children:e.jsx("input",{type:"submit",id:"run",value:"Chạy"})})})]})]})]}),e.jsxs("div",{className:"graph-container container",children:[e.jsx("div",{id:"mynetwork"}),e.jsx("button",{id:"zoomExtendsButton",children:e.jsx("img",{src:z,alt:"",width:40})})]}),e.jsxs("div",{id:"result",className:"container",children:[e.jsx("h2",{children:"Kết quả"}),e.jsxs("table",{border:"1",id:"resultTable",style:{width:"100%",textAlign:"center"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"STT"}),e.jsx("th",{children:"Từ"}),e.jsx("th",{children:"Đến"}),e.jsx("th",{children:"Trọng số"})]})}),e.jsx("tbody",{})]})]})]})]})]})};export{V as default};

import{r as h,j as e}from"./index-CIuRjdGw.js";import{v,u as w,e as E}from"./extendable-CZ_ptkKR.js";import{C as k}from"./configfullpage-DdPJEFnB.js";import{i as N,H as C}from"./style-B0060oZX.js";import{N as b}from"./nhapdothi-1EiTXN5i.js";import"./vis-network-DvV5Ajkb.js";const S=()=>{h.useEffect(()=>{let m=null;function x(l){l.preventDefault();const r=parseInt(document.getElementById("nodes").value),o=document.getElementById("edges").value,s=document.getElementById("directed").checked,n=o.split(`
`).map(t=>{const i=t.trim().split(" ").map(Number);return i.length===2?{from:i[0],to:i[1],weight:1}:i.length===3?{from:i[0],to:i[1],weight:i[2]}:null}).filter(t=>t!==null),d=s?p(r,n,1):y(r,n);g(d),j(r,n,s,d)}function g(l){const r=document.getElementById("result"),o=document.querySelector("#resultTable tbody");o.innerHTML="";var s=0;l.forEach((d,t)=>{const i=document.createElement("tr");i.innerHTML=`
            <td>${t+1}</td>
            <td>${d.from}</td>
            <td>${d.to}</td>
            <td>${d.weight}</td>
          `,o.appendChild(i),s+=d.weight}),r.style.display="block";let n=document.getElementById("sumWeight");n||(n=document.createElement("div"),n.id="sumWeight",r.appendChild(n)),n.innerHTML=`<div style="margin-top: 10px"><b>Tổng trọng lượng cây khung là: ${s}</b></div>`}function y(l,r){r.sort((t,i)=>t.weight-i.weight);const o=new Array(l+1).fill(-1);function s(t){return o[t]===-1?t:s(o[t])}function n(t,i){const a=s(t),c=s(i);return a!==c?(o[c]=a,!0):!1}const d=[];for(const t of r)n(t.from,t.to)&&d.push(t);return d}function p(l,r,o=1){const s=new Set,n=[],d=[...r];for(s.add(o);s.size<l;){let t=null,i=1/0;for(let a of d)s.has(a.from)&&!s.has(a.to)&&a.weight<i&&(i=a.weight,t=a);if(t)n.push(t),s.add(t.to);else{for(let a of d)if(!s.has(a.to)&&s.size<l){t=a;break}if(t)n.push(t),s.add(t.to);else break}}return n}function j(l,r,o,s){const n=Array.from({length:l},(c,f)=>({id:f+1,label:`${f+1}`})),d=r.map(c=>({from:c.from,to:c.to,label:`${c.weight}`,arrows:o?"to":"",color:{color:"black"},width:1}));d.forEach(c=>{s.some(f=>f.from===c.from&&f.to===c.to)&&(c.color={color:"red"},c.width=3)});const t=document.getElementById("mynetwork"),i={nodes:new v.DataSet(n),edges:new v.DataSet(d)},a={configure:{enabled:!1},nodes:{shape:"dot",color:"#bdd482",size:40,margin:10,font:{color:"#000000",size:40,vadjust:-80,align:"center"}},edges:{smooth:{type:"dynamic",roundness:.5},selfReferenceSize:20,length:void 0,font:{size:30,align:"horizontal"}},interaction:{dragNodes:!0,hover:!0},physics:{enabled:!0,solver:"forceAtlas2Based",forceAtlas2Based:{springLength:200,springConstant:.02,centralGravity:.005,gravitationalConstant:-80},stabilization:{iterations:200},wind:{x:0,y:0}}};m=new v.Network(t,i,a)}const u=document.getElementById("graphForm");u&&u.addEventListener("submit",x),document.getElementById("zoomExtendsButton").addEventListener("click",function(){m.fit()})},[])},A=()=>{const[m,x]=h.useState(""),[g,y]=h.useState(""),[p,j]=h.useState(!0),[u,l]=h.useState(!1);var[r,o]=h.useState(0);h.useEffect(()=>{w(),k(),N()},[]),h.useEffect(()=>{b()},[]),h.useEffect(()=>{r===1&&(b(),o(0))},[m,g,u,r]);const s=n=>{n.preventDefault(),o(1)};return S(),e.jsxs(e.Fragment,{children:[e.jsx("title",{children:"Tìm cây khung nhỏ nhất"}),e.jsxs("div",{className:"fade-in",children:[e.jsx(C,{activePage:"caykhungnhonhat",className:"bg-transparent"}),e.jsxs("main",{children:[e.jsxs("div",{className:"container",id:"formbox",children:[e.jsx("h2",{children:"Tìm cây khung nhỏ nhất"}),e.jsxs("form",{id:"graphForm",onSubmit:s,children:[e.jsxs("div",{className:"form-group",id:"munberNodes",children:[e.jsx("label",{htmlFor:"nodes",children:"Nhập số đỉnh:"}),e.jsx("input",{type:"number",id:"nodes",name:"nodes",min:"0",required:!0,value:m,onChange:n=>x(n.target.value)})]}),e.jsxs("div",{className:"listedges",children:[e.jsx("label",{htmlFor:"edges",children:"Nhập các cung:"}),e.jsx("textarea",{id:"edges",name:"edges",rows:"12",placeholder:`Ví dụ: 1 2 3\r
       1 3 2\r
       2 4 5`,value:g,onChange:n=>y(n.target.value)})]}),e.jsxs("div",{id:"graphOption",children:[e.jsx("input",{type:"hidden",id:"isWeightedGraph",name:"isWeightedGraph",checked:p,onChange:()=>j(!p)}),e.jsxs("label",{className:"switch m-0",children:["Có hướng",e.jsx("input",{type:"checkbox",id:"directed",name:"directed",checked:u,onChange:()=>l(!u)}),e.jsx("span",{className:"slider"})]}),e.jsx("div",{className:"typeOfBrowe",children:e.jsx("div",{children:e.jsx("input",{type:"submit",id:"run",value:"Chạy",onClick:()=>o(1)})})})]})]})]}),e.jsxs("div",{className:"graph-container container",children:[e.jsx("div",{id:"mynetwork"}),e.jsx("button",{id:"zoomExtendsButton",children:e.jsx("img",{src:E,alt:"",width:40})})]}),e.jsxs("div",{id:"result",className:"container",children:[e.jsx("h2",{children:"Kết quả"}),e.jsxs("table",{border:"1",id:"resultTable",style:{width:"100%",textAlign:"center"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"STT"}),e.jsx("th",{children:"Từ"}),e.jsx("th",{children:"Đến"}),e.jsx("th",{children:"Trọng số"})]})}),e.jsx("tbody",{})]})]})]})]})]})};export{A as default};

import{r as m,j as e,L as h}from"./index-Dp46g2VF.js";import{v as N,u as T,e as F}from"./extendable-Bkc2CH56.js";import{C as S}from"./configfullpage-PXqzJw1M.js";import{i as z,L as A}from"./style-Cb-89DPO.js";import{N as C}from"./nhapdothi-Cuzztn2Y.js";const I=()=>{m.useEffect(()=>{let x=null;function y(n){n.preventDefault();const s=parseInt(document.getElementById("nodes").value),a=document.getElementById("edges").value,r=1,d=s,i=a.split(`
`).map(o=>{const g=o.trim().split(" ").map(Number);return g.length===3?{from:g[0],to:g[1],capacity:g[2]}:null}).filter(o=>o!==null),{maxFlow:l,residualGraph:t}=j(s,i,r,d);p(l),b(s,i,t,r)}function p(n){const s=document.getElementById("result"),a=document.getElementById("resultText");a.textContent=`Luồng cực đại: ${n}`,s.style.display="block"}function w(n,s){const a=Array.from({length:n+1},()=>Array(n+1).fill(0));return s.forEach(({from:r,to:d,capacity:i})=>{a[r][d]=i}),a}function f(n,s,a,r){const d=new Array(n.length).fill(!1),i=[];for(i.push(s),d[s]=!0,r[s]=-1;i.length>0;){const l=i.shift();for(let t=1;t<n.length;t++)if(!d[t]&&n[l][t]>0&&(i.push(t),r[t]=l,d[t]=!0,t===a))return!0}return!1}function j(n,s,a,r){let d=w(n,s);const i=new Array(n+1).fill(-1);let l=0;for(;f(d,a,r,i);){let t=1/0;for(let o=r;o!==a;o=i[o]){const g=i[o];t=Math.min(t,d[g][o])}for(let o=r;o!==a;o=i[o]){const g=i[o];d[g][o]-=t,d[o][g]+=t}l+=t}return{maxFlow:l,residualGraph:d}}function b(n,s,a,r){const d=Array.from({length:n},(u,c)=>({id:c+1,label:`${c+1}`,color:{background:"gray"}})),i=s.map(u=>{const{from:c,to:k,capacity:E}=u,L=E-a[c][k];return{from:c,to:k,label:`${L} / ${E}`,arrows:"to",color:{color:"black"},width:1}}),l=new Array(n+1).fill(!1),t=[];for(t.push(r),l[r]=!0;t.length>0;){const u=t.shift();for(let c=1;c<=n;c++)!l[c]&&a[u][c]>0&&(l[c]=!0,t.push(c))}d.forEach(u=>{l[u.id]?u.color={background:"green"}:u.color={background:"red"}});const o=document.getElementById("mynetwork"),g={nodes:new N.DataSet(d),edges:new N.DataSet(i)},B={configure:{enabled:!1},nodes:{shape:"dot",size:40,margin:10,font:{color:"#000000",size:40,vadjust:-80,align:"center"}},edges:{smooth:{type:"dynamic",roundness:.5},selfReferenceSize:20,length:void 0,font:{size:30,align:"horizontal"}},interaction:{dragNodes:!0,hover:!0},physics:{enabled:!0,solver:"forceAtlas2Based",forceAtlas2Based:{springLength:200,springConstant:.02,centralGravity:.005,gravitationalConstant:-80},stabilization:{iterations:200},wind:{x:0,y:0}}};x=new N.Network(o,g,B)}const v=document.getElementById("graphForm");v&&v.addEventListener("submit",y),document.getElementById("zoomExtendsButton").addEventListener("click",function(){x.fit()})},[])},$=()=>{const[x,y]=m.useState(""),[p,w]=m.useState(""),[f,j]=m.useState(!0),[b,v]=m.useState(!0);var[n,s]=m.useState(0);m.useEffect(()=>{T(),S(),z()},[]),m.useEffect(()=>{C()},[]),m.useEffect(()=>{n===1&&(C(),s(0))},[x,p,n]);const a=r=>{r.preventDefault(),s(1)};return I(),e.jsxs(e.Fragment,{children:[e.jsx("title",{children:"Tìm luồng cực đại trong mạng"}),e.jsxs("div",{className:"fade-in",children:[e.jsx("header",{children:e.jsx("nav",{className:" border-gray-200",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between mx-auto p-4 gap-[20px]",children:[e.jsx(A,{}),e.jsx("div",{className:"hidden w-full md:block md:w-auto",id:"navbar-dropdown",children:e.jsxs("ul",{className:`flex flex-col font-medium \r
      p-4 md:p-0 mt-0 border border-gray-100 rounded-lg\r
      md:space-x-8 rtl:space-x-reverse \r
      md:flex-row md:mt-0 md:border-0 border-gray-700\r
      transparentColor main-nav`,children:[e.jsx("li",{children:e.jsx(h,{to:"/",className:`block py-2 px-3 \r
          rounded-sm md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation`,"aria-current":"page",children:"Trang chủ"})}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink1","data-dropdown-toggle":"dropdownNavbar1",className:`flex items-center justify-between w-full py-2 px-3 \r
          rounded-sm md:hover:bg-transparent \r
          md:border-0 md:p-0 md:w-auto \r
          focus:text-white border-gray-700 md:bg-transparent \r
          font-bold navigation text-white hover:bg-gray-700`,children:["Tạo đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar1",className:`z-10 hidden font-normal bg-gray-700 divide-y \r
          divide-gray-100 rounded-lg shadow-sm w-30 divide-gray-600`,children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(h,{to:"/vedothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Vẽ đồ thị"})}),e.jsx("li",{children:e.jsx(h,{to:"/nhapdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Nhập đồ thị"})}),e.jsx("li",{children:e.jsx(h,{to:"/chuyendoi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Chuyển đổi"})})]})})]}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink2","data-dropdown-toggle":"dropdownNavbar2",className:`flex items-center justify-between w-full py-2 px-3 \r
          rounded-sm md:hover:bg-transparent\r
          md:border-0 md:p-0 md:w-auto \r
          focus:text-white border-gray-700 \r
          font-bold hover:bg-blue-700 navigation-checked bg-blue-700 md:bg-transparent`,children:["Phân tích đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar2",className:`z-10 hidden font-normal bg-gray-700 divide-y \r
          divide-gray-100 rounded-lg shadow-sm w-47 divide-gray-600`,children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(h,{to:"/duyetdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Duyệt đồ thị"})}),e.jsx("li",{children:e.jsx(h,{to:"/timlienthong",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm liên thông"})}),e.jsx("li",{children:e.jsx(h,{to:"/duongdingannhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm đường đi ngắn nhất"})}),e.jsx("li",{children:e.jsx(h,{to:"/xephangdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Xếp hạng đồ thị"})}),e.jsx("li",{children:e.jsx(h,{to:"/caykhungnhonhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Cây khung nhỏ nhất"})}),e.jsx("li",{children:e.jsx(h,{to:"/timluongcucdai",className:"block px-4 py-2 bg-gray-600 text-white",children:"Tìm luồng cực đại trong mạng"})})]})})]}),e.jsx("li",{children:e.jsx(h,{to:"/tainguyenhoctap",className:`block py-2 px-3 \r
          rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation`,children:"Tài nguyên & Học tập"})}),e.jsx("li",{children:e.jsx(h,{to:"/vechungtoi",className:"block py-2 px-3 rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:"Về chúng tôi"})})]})})]})})}),e.jsxs("main",{children:[e.jsxs("div",{className:"container",id:"formbox",children:[e.jsx("h2",{children:"Tìm luồng cực đại trong mạng"}),e.jsxs("form",{id:"graphForm",onSubmit:a,children:[e.jsxs("div",{className:"form-group",id:"munberNodes",children:[e.jsx("label",{htmlFor:"nodes",children:"Nhập số đỉnh:"}),e.jsx("input",{type:"number",id:"nodes",name:"nodes",min:"0",required:!0,value:x,onChange:r=>y(r.target.value)})]}),e.jsxs("div",{className:"listedges",children:[e.jsx("label",{htmlFor:"edges",children:"Nhập các cung:"}),e.jsx("textarea",{id:"edges",name:"edges",rows:"12",placeholder:`Ví dụ: 1 2 3\r
       1 3 2\r
       2 4 5`,value:p,onChange:r=>w(r.target.value)})]}),e.jsxs("div",{id:"graphOption",children:[e.jsx("input",{type:"hidden",id:"isWeightedGraph",name:"isWeightedGraph",checked:f,onChange:()=>j(!f)}),e.jsx("label",{className:"switch m-0",children:e.jsx("input",{type:"hidden",id:"directed",name:"directed",checked:b,onChange:()=>v(!b)})}),e.jsx("div",{className:"typeOfBrowe",children:e.jsx("div",{children:e.jsx("input",{type:"submit",id:"run",value:"Chạy",onClick:()=>s(1)})})})]})]})]}),e.jsxs("div",{className:"graph-container container",children:[e.jsx("div",{id:"mynetwork"}),e.jsx("button",{id:"zoomExtendsButton",children:e.jsx("img",{src:F,alt:"",width:40})})]}),e.jsxs("div",{id:"result",className:"container",children:[e.jsx("h2",{children:"Kết quả"}),e.jsx("div",{id:"resultText"})]})]})]})]})};export{$ as default};

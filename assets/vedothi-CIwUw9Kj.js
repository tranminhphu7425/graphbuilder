import{r as x,j as e,L as d}from"./index-DkB0ErEs.js";import{v as L,u as T,e as V}from"./extendable-DSmNOy0c.js";import{C as A}from"./configfullpage-BEVqOl23.js";import{i as P,L as F}from"./style-7iltYtE0.js";const H=(f,k,y)=>{x.useEffect(()=>{const r=new L.DataSet([]),i=new L.DataSet([]),h=document.getElementById("directed"),g=document.getElementById("isWeightedGraph"),m=document.getElementById("physics");let l=m?m.checked:1,N=!!l;const a={},C=document.getElementById("mynetwork"),B={nodes:r,edges:i},W={configure:{enabled:!1},nodes:{shape:"dot",color:"#bdd482",size:40,margin:10,font:{color:"#000000",size:40,vadjust:-80,align:"center"}},edges:{smooth:l?{type:"dynamic",roundness:.5}:{type:"horizontal",roundness:0},selfReferenceSize:20},interaction:{dragNodes:!0,hover:!0},physics:{enabled:N,solver:"forceAtlas2Based",forceAtlas2Based:{springLength:200,springConstant:.02,centralGravity:.005,gravitationalConstant:-80},stabilization:{iterations:200},wind:{x:0,y:0}}},c=new L.Network(C,B,W);let v=0;r.on("*",function(){v===0&&(c.fit(),c.moveTo({scale:.7}),v=1)}),i.on("*",function(){v===0&&(c.fit(),c.moveTo({scale:.7}),v=1)});let b=0,E=[];c.on("doubleClick",function(n){if(!n.nodes.length){b++;const t={id:b,label:`${b}`};r.add(t),E.push({type:"addNode",data:t})}});let p=[];c.on("click",function(n){if(n.nodes.length&&n.event.srcEvent.shiftKey){if(p.push(n.nodes[0]),p.length===2){const t=p[0],s=p[1],o=t===s;if(o){a[t]=(a[t]||0)+1;const w=a[t];if(w>=6){const I=35+(w-5)*5,D=40+(w-5)*5,G=-80-(w-5)*10;r.update({id:t,size:I,font:{size:D,vadjust:G}})}}const u=Math.random()>.5?"curvedCCW":"curvedCW",z=Math.random()*.5+.2,j={from:t,to:s,arrows:h.checked?"to":"",smooth:o?{type:u,roundness:z}:!0,selfReferenceSize:o?20+(a[t]-1)*10:void 0};i.add(j),r.update({id:t,fixed:!1}),r.update({id:s,fixed:!1}),E.push({type:"addEdge",data:j}),p=[]}}else p=[]}),c.on("click",function(n){if(n.edges.length>0&&!window.event.shiftKey&&g.checked==!0){const t=n.edges[0],o=i.get(t).label||"",u=prompt("Nhập trọng số cho cung:",o);u!==null&&i.update({id:t,label:u,font:{size:30,align:"horizontal"}})}});function S(n,t){i.forEach(s=>{i.update({id:s.id,arrows:n?"to":"",label:t&&s.label||"",font:t?{size:30,align:"horizontal"}:{}})})}h.addEventListener("change",function(){S(h.checked,g.checked)}),g.addEventListener("change",function(){S(h.checked,g.checked)}),m.addEventListener("change",function(){l=m.checked,N=!!l,c.setOptions({physics:{enabled:N,solver:"forceAtlas2Based",forceAtlas2Based:{springLength:200,springConstant:.02,centralGravity:.005,gravitationalConstant:-80},stabilization:{iterations:200},wind:{x:0,y:0}},edges:{smooth:l?{type:"dynamic",roundness:.5}:{type:"horizontal",roundness:0}}})}),document.addEventListener("keydown",function(n){if(n.ctrlKey&&n.key==="z"){const t=E.pop();if(t){if(t.type==="addNode")r.remove(t.data.id),i.forEach(s=>{(s.from===t.data.id||s.to===t.data.id)&&i.remove(s.id)}),b--;else if(t.type==="addEdge"){const s=t.data;if(i.remove({id:s.id}),s.from===s.to){const o=s.from;if(a[o])if(a[o]--,a[o]<6)r.update({id:o,size:40,font:{size:40,vadjust:-80}});else{const u=35+(a[o]-5)*5,z=40+(a[o]-5)*5,j=-80-(a[o]-5)*10;r.update({id:o,size:u,font:{size:z,vadjust:j}})}}}}}}),document.addEventListener("keydown",function(n){n.key==="Shift"&&C.classList.add("shift-cursor")}),document.addEventListener("keyup",function(n){n.key==="Shift"&&C.classList.remove("shift-cursor")}),document.getElementById("zoomExtendsButton").addEventListener("click",function(){c.fit()})},[f,k,y])},q=()=>{const[f,k]=x.useState(!1),[y,r]=x.useState(!1),[i,h]=x.useState(!0);x.useEffect(()=>{T(),A(),P()},[]),H();const g=()=>{k(!f)},m=()=>{r(!y)},l=()=>{h(!i)};return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:"Vẽ đồ thị"}),e.jsxs("div",{className:"fade-in",children:[e.jsx("header",{children:e.jsx("nav",{className:"border-gray-200 transparentColor",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between mx-auto p-4 gap-[20px]",children:[e.jsx(F,{}),e.jsx("div",{className:"hidden w-full md:block md:w-auto",id:"navbar-dropdown",children:e.jsxs("ul",{className:"flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 border-gray-700 transparentColor main-nav",children:[e.jsx("li",{children:e.jsx(d,{to:"/",className:"block py-2 px-3 rounded-sm md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation","aria-current":"page",children:"Trang chủ"})}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink1","data-dropdown-toggle":"dropdownNavbar1",className:"flex items-center justify-between w-full py-2 px-3 rounded-sm md:hover:bg-transparent md:border-0 md:p-0 md:w-auto focus:text-white border-gray-700 bg-blue-700 md:bg-transparent font-bold navigation-checked",children:["Tạo đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar1",className:"z-10 hidden font-normal bg-gray-700 divide-y divide-gray-100 rounded-lg shadow-sm w-30 divide-gray-600",children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(d,{to:"/vedothi",className:"block px-4 py-2 bg-gray-600 text-white",children:"Vẽ đồ thị"})}),e.jsx("li",{children:e.jsx(d,{to:"/nhapdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Nhập đồ thị"})}),e.jsx("li",{children:e.jsx(d,{to:"/chuyendoi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Chuyển đổi"})})]})})]}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink2","data-dropdown-toggle":"dropdownNavbar2",className:"flex items-center justify-between w-full py-2 px-3 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:p-0 md:w-auto text-white focus:text-white border-gray-700 hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:["Phân tích đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar2",className:"z-10 hidden font-normal bg-gray-700 divide-y divide-gray-100 rounded-lg shadow-sm w-47 divide-gray-600",children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(d,{to:"/duyetdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Duyệt đồ thị"})}),e.jsx("li",{children:e.jsx(d,{to:"/timlienthong",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm liên thông"})}),e.jsx("li",{children:e.jsx(d,{to:"/duongdingannhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm đường đi ngắn nhất"})}),e.jsx("li",{children:e.jsx(d,{to:"/xephangdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Xếp hạng đồ thị"})}),e.jsx("li",{children:e.jsx(d,{to:"/caykhungnhonhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Cây khung nhỏ nhất"})}),e.jsx("li",{children:e.jsx(d,{to:"/timluongcucdai",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm luồng cực đại trong mạng"})})]})})]}),e.jsx("li",{children:e.jsx(d,{to:"#",className:"block py-2 px-3 rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:"Tài nguyên & Học tập"})}),e.jsx("li",{children:e.jsx(d,{to:"/vechungtoi",className:"block py-2 px-3 rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:"Về chúng tôi"})})]})})]})})}),e.jsxs("main",{id:"vedothi",children:[e.jsxs("div",{id:"controlsform",className:"container",children:[e.jsx("h2",{children:"Vẽ đồ thị"}),e.jsxs("div",{id:"graphOption",children:[e.jsxs("label",{className:"switch",children:["Có trọng số",e.jsx("input",{type:"checkbox",id:"isWeightedGraph",name:"isWeightedGraph",checked:f,onChange:g}),e.jsx("span",{className:"slider"})]}),e.jsxs("label",{className:"switch",children:["Có hướng",e.jsx("input",{type:"checkbox",id:"directed",name:"directed",checked:y,onChange:m}),e.jsx("span",{className:"slider"})]}),e.jsxs("label",{className:"switch",children:["Vật lý",e.jsx("input",{type:"checkbox",id:"physics",name:"physics",checked:i,onChange:l}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"guild",children:[e.jsx("h3",{children:"Hướng dẫn"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Đúp chuột để tạo một nút mới"}),e.jsx("li",{children:"Ấn giữ phím shift và chọn 2 đỉnh bất kì để tạo cung nối liền 2 đỉnh đó"}),e.jsx("li",{children:"Nếu giữ phím shift và đúp 2 lần vào một đỉnh sẽ tạo khuyên"}),e.jsx("li",{children:"Ctrl+Z để quay lại bước trước đó"}),e.jsx("li",{children:"Nhấp vào cạnh để có thể điền trọng số"})]})]})]}),e.jsxs("div",{className:"graph-container container",children:[e.jsx("div",{id:"mynetwork"}),e.jsx("button",{id:"zoomExtendsButton",children:e.jsx("img",{src:V,alt:"",width:40})})]})]})]})]})};export{q as default};

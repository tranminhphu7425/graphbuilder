import{r as j,j as e,L as r}from"./index-CS5OO6BL.js";import{v as S,u as T,e as A}from"./extendable-DSmNOy0c.js";import{C as P}from"./configfullpage-C-yMbWVH.js";import{i as F,L as H}from"./style-DoSsT4I7.js";const K=(w,C,k)=>{j.useEffect(()=>{const d=new S.DataSet([]),i=new S.DataSet([]),g=document.getElementById("directed"),p=document.getElementById("isWeightedGraph"),m=document.getElementById("physics");let h=m?m.checked:1,E=!!h;const a={},L=document.getElementById("mynetwork"),I={nodes:d,edges:i},W={configure:{enabled:!1},nodes:{shape:"dot",color:"#bdd482",size:40,margin:10,font:{color:"#000000",size:40,vadjust:-80,align:"center"}},edges:{smooth:h?{type:"dynamic",roundness:.5}:{type:"horizontal",roundness:0},selfReferenceSize:20},interaction:{dragNodes:!0,hover:!0},physics:{enabled:E,solver:"forceAtlas2Based",forceAtlas2Based:{springLength:200,springConstant:.02,centralGravity:.005,gravitationalConstant:-80},stabilization:{iterations:200},wind:{x:0,y:0}}},c=new S.Network(L,I,W);let N=0;d.on("*",function(){N===0&&(c.fit(),c.moveTo({scale:.7}),N=1)}),i.on("*",function(){N===0&&(c.fit(),c.moveTo({scale:.7}),N=1)});let f=0,y=[],v=[];c.on("doubleClick",function(o){if(!o.nodes.length){f++;const n=o.pointer.canvas,s={id:f,label:`${f}`,x:n.x,y:n.y};d.add(s),y.push({type:"addNode",data:s}),v=[]}});let u=[];c.on("click",function(o){if(o.nodes.length&&o.event.srcEvent.shiftKey){if(u.push(o.nodes[0]),u.length===2){const t=u[0],n=u[1],s=t===n;if(s){a[t]=(a[t]||0)+1;const z=a[t];if(z>=6){const V=35+(z-5)*5,D=40+(z-5)*5,G=-80-(z-5)*10;d.update({id:t,size:V,font:{size:D,vadjust:G}})}}const l=Math.random()>.5?"curvedCCW":"curvedCW",b=Math.random()*.5+.2,x={from:t,to:n,arrows:g.checked?"to":"",smooth:s?{type:l,roundness:b}:!0,selfReferenceSize:s?20+(a[t]-1)*10:void 0};i.add(x),d.update({id:t,fixed:!1}),d.update({id:n,fixed:!1}),y.push({type:"addEdge",data:x}),v=[],u=[]}}else u=[]}),c.on("click",function(o){if(o.edges.length>0&&!window.event.shiftKey&&p.checked==!0){const t=o.edges[0],s=i.get(t).label||"",l=prompt("Nhập trọng số cho cung:",s);l!==null&&i.update({id:t,label:l,font:{size:30,align:"horizontal"}})}});function B(o,t){i.forEach(n=>{i.update({id:n.id,arrows:o?"to":"",label:t&&n.label||"",font:t?{size:30,align:"horizontal"}:{}})})}g.addEventListener("change",function(){B(g.checked,p.checked)}),p.addEventListener("change",function(){B(g.checked,p.checked)}),m.addEventListener("change",function(){h=m.checked,E=!!h,c.setOptions({physics:{enabled:E,solver:"forceAtlas2Based",forceAtlas2Based:{springLength:200,springConstant:.02,centralGravity:.005,gravitationalConstant:-80},stabilization:{iterations:200},wind:{x:0,y:0}},edges:{smooth:h?{type:"dynamic",roundness:.5}:{type:"horizontal",roundness:0}}})}),document.addEventListener("keydown",function(o){if(o.ctrlKey&&o.key==="z"){const t=y.pop();if(t){if(t.type==="addNode")d.remove(t.data.id),i.forEach(n=>{(n.from===t.data.id||n.to===t.data.id)&&i.remove(n.id)}),f--,v.push(t);else if(t.type==="addEdge"){const n=t.data;if(i.remove({id:n.id}),n.from===n.to){const s=n.from;if(a[s])if(a[s]--,a[s]<6)d.update({id:s,size:40,font:{size:40,vadjust:-80}});else{const l=35+(a[s]-5)*5,b=40+(a[s]-5)*5,x=-80-(a[s]-5)*10;d.update({id:s,size:l,font:{size:b,vadjust:x}})}}v.push(t)}}}if(o.ctrlKey&&o.key==="y"){const t=v.pop();if(t){if(t.type==="addNode")f++,d.add(t.data),y.push(t);else if(t.type==="addEdge"){if(i.add(t.data),t.data.from===t.data.to){const n=t.data.from;a[n]=(a[n]||0)+1;const s=a[n];if(s>=6){const l=35+(s-5)*5,b=40+(s-5)*5,x=-80-(s-5)*10;d.update({id:n,size:l,font:{size:b,vadjust:x}})}}y.push(t)}}}}),document.addEventListener("keydown",function(o){o.key==="Shift"&&L.classList.add("shift-cursor")}),document.addEventListener("keyup",function(o){o.key==="Shift"&&L.classList.remove("shift-cursor")}),document.getElementById("zoomExtendsButton").addEventListener("click",function(){c.fit()})},[w,C,k])},X=()=>{const[w,C]=j.useState(!1),[k,d]=j.useState(!1),[i,g]=j.useState(!0);j.useEffect(()=>{T(),P(),F()},[]),K();const p=()=>{C(!w)},m=()=>{d(!k)},h=()=>{g(!i)};return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:"Vẽ đồ thị"}),e.jsxs("div",{className:"fade-in",children:[e.jsx("header",{children:e.jsx("nav",{className:"border-gray-200 transparentColor",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between mx-auto p-4 gap-[20px]",children:[e.jsx(H,{}),e.jsx("div",{className:"hidden w-full md:block md:w-auto",id:"navbar-dropdown",children:e.jsxs("ul",{className:"flex flex-col font-medium p-4 md:p-0 mt-0 border border-gray-100 rounded-lg md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 border-gray-700 transparentColor main-nav",children:[e.jsx("li",{children:e.jsx(r,{to:"/",className:"block py-2 px-3 rounded-sm md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation","aria-current":"page",children:"Trang chủ"})}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink1","data-dropdown-toggle":"dropdownNavbar1",className:"flex items-center justify-between w-full py-2 px-3 rounded-sm md:hover:bg-transparent md:border-0 md:p-0 md:w-auto focus:text-white border-gray-700 bg-blue-700 md:bg-transparent font-bold navigation-checked",children:["Tạo đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar1",className:"z-10 hidden font-normal bg-gray-700 divide-y divide-gray-100 rounded-lg shadow-sm w-30 divide-gray-600",children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(r,{to:"/vedothi",className:"block px-4 py-2 bg-gray-600 text-white",children:"Vẽ đồ thị"})}),e.jsx("li",{children:e.jsx(r,{to:"/nhapdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Nhập đồ thị"})}),e.jsx("li",{children:e.jsx(r,{to:"/chuyendoi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Chuyển đổi"})})]})})]}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink2","data-dropdown-toggle":"dropdownNavbar2",className:"flex items-center justify-between w-full py-2 px-3 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:p-0 md:w-auto text-white focus:text-white border-gray-700 hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:["Phân tích đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar2",className:"z-10 hidden font-normal bg-gray-700 divide-y divide-gray-100 rounded-lg shadow-sm w-47 divide-gray-600",children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(r,{to:"/duyetdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Duyệt đồ thị"})}),e.jsx("li",{children:e.jsx(r,{to:"/timlienthong",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm liên thông"})}),e.jsx("li",{children:e.jsx(r,{to:"/duongdingannhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm đường đi ngắn nhất"})}),e.jsx("li",{children:e.jsx(r,{to:"/xephangdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Xếp hạng đồ thị"})}),e.jsx("li",{children:e.jsx(r,{to:"/caykhungnhonhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Cây khung nhỏ nhất"})}),e.jsx("li",{children:e.jsx(r,{to:"/timluongcucdai",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm luồng cực đại trong mạng"})})]})})]}),e.jsx("li",{children:e.jsx(r,{to:"#",className:"block py-2 px-3 rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:"Tài nguyên & Học tập"})}),e.jsx("li",{children:e.jsx(r,{to:"/vechungtoi",className:"block py-2 px-3 rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:"Về chúng tôi"})})]})})]})})}),e.jsxs("main",{id:"vedothi",children:[e.jsxs("div",{id:"controlsform",className:"container",children:[e.jsx("h2",{children:"Vẽ đồ thị"}),e.jsxs("div",{id:"graphOption",children:[e.jsxs("label",{className:"switch",children:["Có trọng số",e.jsx("input",{type:"checkbox",id:"isWeightedGraph",name:"isWeightedGraph",checked:w,onChange:p}),e.jsx("span",{className:"slider"})]}),e.jsxs("label",{className:"switch",children:["Có hướng",e.jsx("input",{type:"checkbox",id:"directed",name:"directed",checked:k,onChange:m}),e.jsx("span",{className:"slider"})]}),e.jsxs("label",{className:"switch",children:["Vật lý",e.jsx("input",{type:"checkbox",id:"physics",name:"physics",checked:i,onChange:h}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"guild",children:[e.jsx("h3",{children:"Hướng dẫn"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Đúp chuột để tạo một nút mới"}),e.jsx("li",{children:"Ấn giữ phím shift và chọn 2 đỉnh bất kì để tạo cung nối liền 2 đỉnh đó"}),e.jsx("li",{children:"Nếu giữ phím shift và đúp 2 lần vào một đỉnh sẽ tạo khuyên"}),e.jsx("li",{children:"Ctrl+Z để quay lại bước trước đó"}),e.jsx("li",{children:"Ctrl+Y để làm lại bước trước đó"}),e.jsx("li",{children:"Nhấp vào cạnh để có thể điền trọng số"})]})]})]}),e.jsxs("div",{className:"graph-container container",children:[e.jsx("div",{id:"mynetwork"}),e.jsx("button",{id:"zoomExtendsButton",children:e.jsx("img",{src:A,alt:"",width:40})})]})]})]})]})};export{X as default};

import{r as u,j as e,L as w}from"./index-wbJuBGEN.js";import{v as L,u as T}from"./vis-network-wrapper-wtU2UVF3.js";import{C as V}from"./configfullpage-C9w5IjMc.js";import{i as A,L as P}from"./index-CvT3jEu8.js";const F=(x,k,f)=>{u.useEffect(()=>{const o=new L.DataSet([]),d=new L.DataSet([]),l=document.getElementById("directed"),h=document.getElementById("isWeightedGraph"),g=document.getElementById("physics");let c=g?g.checked:1,N=!!c;const r={},E=document.getElementById("mynetwork"),B={nodes:o,edges:d},W={configure:{enabled:!1},nodes:{shape:"dot",color:"#bdd482",size:40,margin:10,font:{color:"#000000",size:40,vadjust:-80,align:"center"}},edges:{smooth:c?{type:"dynamic",roundness:.5}:{type:"horizontal",roundness:0},selfReferenceSize:20},interaction:{dragNodes:!0,hover:!0},physics:{enabled:N,solver:"forceAtlas2Based",forceAtlas2Based:{springLength:200,springConstant:.02,centralGravity:.005,gravitationalConstant:-80},stabilization:{iterations:200},wind:{x:0,y:0}}},a=new L.Network(E,B,W);let y=0;o.on("*",function(){y===0&&(a.fit(),a.moveTo({scale:.7}),y=1)}),d.on("*",function(){y===0&&(a.fit(),a.moveTo({scale:.7}),y=1)});let v=0,z=[];a.on("doubleClick",function(n){if(!n.nodes.length){v++;const t={id:v,label:`${v}`};o.add(t),z.push({type:"addNode",data:t})}});let m=[];a.on("click",function(n){if(n.nodes.length&&n.event.srcEvent.shiftKey){if(m.push(n.nodes[0]),m.length===2){const t=m[0],s=m[1],i=t===s;if(i){r[t]=(r[t]||0)+1;const j=r[t];if(j>=6){const I=35+(j-5)*5,D=40+(j-5)*5,G=-80-(j-5)*10;o.update({id:t,size:I,font:{size:D,vadjust:G}})}}const p=Math.random()>.5?"curvedCCW":"curvedCW",C=Math.random()*.5+.2,b={from:t,to:s,arrows:l.checked?"to":"",smooth:i?{type:p,roundness:C}:!0,selfReferenceSize:i?20+(r[t]-1)*10:void 0};d.add(b),o.update({id:t,fixed:!1}),o.update({id:s,fixed:!1}),z.push({type:"addEdge",data:b}),m=[]}}else m=[]}),a.on("click",function(n){if(n.edges.length>0&&!window.event.shiftKey&&h.checked==!0){const t=n.edges[0],i=d.get(t).label||"",p=prompt("Nhập trọng số cho cung:",i);p!==null&&d.update({id:t,label:p,font:{size:30,align:"horizontal"}})}});function S(n,t){d.forEach(s=>{d.update({id:s.id,arrows:n?"to":"",label:t&&s.label||"",font:t?{size:30,align:"horizontal"}:{}})})}l.addEventListener("change",function(){S(l.checked,h.checked)}),h.addEventListener("change",function(){S(l.checked,h.checked)}),g.addEventListener("change",function(){c=g.checked,N=!!c,a.setOptions({physics:{enabled:N,solver:"forceAtlas2Based",forceAtlas2Based:{springLength:200,springConstant:.02,centralGravity:.005,gravitationalConstant:-80},stabilization:{iterations:200},wind:{x:0,y:0}},edges:{smooth:c?{type:"dynamic",roundness:.5}:{type:"horizontal",roundness:0}}})}),document.addEventListener("keydown",function(n){if(n.ctrlKey&&n.key==="z"){const t=z.pop();if(t){if(t.type==="addNode")o.remove(t.data.id),d.forEach(s=>{(s.from===t.data.id||s.to===t.data.id)&&d.remove(s.id)}),v--;else if(t.type==="addEdge"){const s=t.data;if(d.remove({id:s.id}),s.from===s.to){const i=s.from;if(r[i])if(r[i]--,r[i]<6)o.update({id:i,size:40,font:{size:40,vadjust:-80}});else{const p=35+(r[i]-5)*5,C=40+(r[i]-5)*5,b=-80-(r[i]-5)*10;o.update({id:i,size:p,font:{size:C,vadjust:b}})}}}}}}),document.addEventListener("keydown",function(n){n.key==="Shift"&&E.classList.add("shift-cursor")}),document.addEventListener("keyup",function(n){n.key==="Shift"&&E.classList.remove("shift-cursor")}),document.getElementById("zoomExtendsButton").addEventListener("click",function(){a.fit()})},[x,k,f])},O=()=>{const[x,k]=u.useState(!1),[f,o]=u.useState(!1),[d,l]=u.useState(!0);u.useEffect(()=>{T(),V(),A()},[]),F();const h=()=>{k(!x)},g=()=>{o(!f)},c=()=>{l(!d)};return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:"Vẽ đồ thị"}),e.jsx("link",{rel:"stylesheet",href:"./src/style/style.css"}),e.jsxs("div",{children:[e.jsx("header",{children:e.jsx("nav",{className:"border-gray-200 transparentColor",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between mx-auto p-4 gap-[20px]",children:[e.jsx(P,{}),e.jsx("div",{className:"hidden w-full md:block md:w-auto",id:"navbar-dropdown",children:e.jsxs("ul",{className:"flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 border-gray-700 transparentColor main-nav",children:[e.jsx("li",{children:e.jsx(w,{to:"/",className:"block py-2 px-3 rounded-sm md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation","aria-current":"page",children:"Trang chủ"})}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink1","data-dropdown-toggle":"dropdownNavbar1",className:"flex items-center justify-between w-full py-2 px-3 rounded-sm md:hover:bg-transparent md:border-0 md:p-0 md:w-auto focus:text-white border-gray-700 bg-blue-700 md:bg-transparent font-bold navigation-checked",children:["Tạo đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar1",className:"z-10 hidden font-normal bg-gray-700 divide-y divide-gray-100 rounded-lg shadow-sm w-30 divide-gray-600",children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx("a",{href:"/vedothi",className:"block px-4 py-2 bg-gray-600 text-white",children:"Vẽ đồ thị"})}),e.jsx("li",{children:e.jsx("a",{href:"/nhapdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Nhập đồ thị"})})]})})]}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink2","data-dropdown-toggle":"dropdownNavbar2",className:"flex items-center justify-between w-full py-2 px-3 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:p-0 md:w-auto text-white focus:text-white border-gray-700 hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:["Phân tích đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar2",className:"z-10 hidden font-normal bg-gray-700 divide-y divide-gray-100 rounded-lg shadow-sm w-47 divide-gray-600",children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx("a",{href:"/duyetdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Duyệt đồ thị"})}),e.jsx("li",{children:e.jsx("a",{href:"/timlienthong",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm liên thông"})}),e.jsx("li",{children:e.jsx("a",{href:"/duongdingannhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm đường đi ngắn nhất"})}),e.jsx("li",{children:e.jsx(w,{to:"/xephangdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Xếp hạng đồ thị"})}),e.jsx("li",{children:e.jsx(w,{to:"/caykhungnhonhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Cây khung nhỏ nhất"})}),e.jsx("li",{children:e.jsx(w,{to:"/timluongcucdai",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm luồng cực đại trong mạng"})})]})})]}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"block py-2 px-3 rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:"Tài nguyên & Học tập"})}),e.jsx("li",{children:e.jsx("a",{href:"/vechungtoi",className:"block py-2 px-3 rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:"Về chúng tôi"})})]})})]})})}),e.jsxs("main",{id:"vedothi",children:[e.jsxs("div",{id:"controlsform",className:"container",children:[e.jsx("h2",{children:"Vẽ đồ thị"}),e.jsxs("div",{id:"graphOption",children:[e.jsxs("label",{className:"switch",children:["Có trọng số",e.jsx("input",{type:"checkbox",id:"isWeightedGraph",name:"isWeightedGraph",checked:x,onChange:h}),e.jsx("span",{className:"slider"})]}),e.jsxs("label",{className:"switch",children:["Có hướng",e.jsx("input",{type:"checkbox",id:"directed",name:"directed",checked:f,onChange:g}),e.jsx("span",{className:"slider"})]}),e.jsxs("label",{className:"switch",children:["Vật lý",e.jsx("input",{type:"checkbox",id:"physics",name:"physics",checked:d,onChange:c}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"guild",children:[e.jsx("h3",{children:"Hướng dẫn"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Đúp chuột để tạo một nút mới"}),e.jsx("li",{children:"Ấn giữ phím shift và chọn 2 đỉnh bất kì để tạo cung nối liền 2 đỉnh đó"}),e.jsx("li",{children:"Nếu giữ phím shift và đúp 2 lần vào một đỉnh sẽ tạo khuyên"}),e.jsx("li",{children:"Ctrl+Z để quay lại bước trước đó"}),e.jsx("li",{children:"Nhấp vào cạnh để có thể điền trọng số"})]})]})]}),e.jsxs("div",{className:"graph-container container",children:[e.jsx("div",{id:"mynetwork"}),e.jsx("button",{id:"zoomExtendsButton",children:e.jsx("img",{src:"src\\assets\\img\\extendable.png",alt:"",width:40})})]})]})]})]})};export{O as default};

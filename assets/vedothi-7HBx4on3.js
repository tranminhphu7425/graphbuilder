import{r as w,j as e,L as c}from"./index-JkP5DFv-.js";import{v as B,u as A,e as P}from"./extendable-Bkc2CH56.js";import{C as F}from"./configfullpage-C1ZGp0AV.js";import{i as H,L as K}from"./style-D1tASwXO.js";const R=(k,E,N)=>{w.useEffect(()=>{const d=new B.DataSet([]),i=new B.DataSet([]),g=document.getElementById("directed"),m=document.getElementById("isWeightedGraph"),u=document.getElementById("physics");let p=u?u.checked:1,L=!!p;const r={},S=document.getElementById("mynetwork"),W={nodes:d,edges:i},D={configure:{enabled:!1},nodes:{shape:"dot",color:"#bdd482",size:40,margin:10,font:{color:"#000000",size:40,vadjust:-80,align:"center"}},edges:{smooth:p?{type:"dynamic",roundness:.5}:{type:"horizontal",roundness:0},selfReferenceSize:20},interaction:{dragNodes:!0,hover:!0},physics:{enabled:L,solver:"forceAtlas2Based",forceAtlas2Based:{springLength:200,springConstant:.02,centralGravity:.005,gravitationalConstant:-80},stabilization:{iterations:200},wind:{x:0,y:0}}},l=new B.Network(S,W,D);let z=0;d.on("*",function(){z===0&&(l.fit(),l.moveTo({scale:.7}),z=1)}),i.on("*",function(){z===0&&(l.fit(),l.moveTo({scale:.7}),z=1)});let y=0,v=[],b=[];l.on("doubleClick",function(o){if(!o.nodes.length){y++;const s=o.pointer.canvas,n={id:y,label:`${y}`,x:s.x,y:s.y};d.add(n),v.push({type:"addNode",data:n}),b=[]}});let x=[];l.on("click",function(o){if(o.nodes.length&&o.event.srcEvent.shiftKey){if(x.push(o.nodes[0]),x.length===2){const t=x[0],s=x[1],n=t===s,a=g.checked;if(n){r[t]=(r[t]||0)+1;const f=r[t];if(f>=6){const V=35+(f-5)*5,G=40+(f-5)*5,T=-80-(f-5)*10;d.update({id:t,size:V,font:{size:G,vadjust:T}})}}const h=Math.random()>.5?"curvedCCW":"curvedCW",j=Math.random()*.5+.2,C={from:t,to:s,arrows:a?"to":"",smooth:n?{type:h,roundness:j}:!0,selfReferenceSize:n?20+(r[t]-1)*10:void 0,isDirected:a};i.add(C),d.update({id:t,fixed:!1}),d.update({id:s,fixed:!1}),v.push({type:"addEdge",data:C}),b=[],x=[]}}else x=[]}),l.on("click",function(o){if(o.edges.length>0&&!window.event.shiftKey&&m.checked==!0){const t=o.edges[0],n=i.get(t).label||"",a=prompt("Nhập trọng số cho cung:",n);a!==null&&i.update({id:t,label:a,font:{size:30,align:"horizontal"}})}});function I(o,t){i.forEach(s=>{i.update({id:s.id,arrows:o?"to":"",label:t&&s.label||"",font:t?{size:30,align:"horizontal"}:{}})})}g.addEventListener("change",function(){I(g.checked,m.checked)}),m.addEventListener("change",function(){I(g.checked,m.checked)}),u.addEventListener("change",function(){p=u.checked,L=!!p,l.setOptions({physics:{enabled:L,solver:"forceAtlas2Based",forceAtlas2Based:{springLength:200,springConstant:.02,centralGravity:.005,gravitationalConstant:-80},stabilization:{iterations:200},wind:{x:0,y:0}},edges:{smooth:p?{type:"dynamic",roundness:.5}:{type:"horizontal",roundness:0}}})}),document.addEventListener("keydown",function(o){if(o.ctrlKey&&o.key==="z"){const t=v.pop();if(t){if(t.type==="addNode")d.remove(t.data.id),i.forEach(s=>{(s.from===t.data.id||s.to===t.data.id)&&i.remove(s.id)}),y--,b.push(t);else if(t.type==="addEdge"){const s=t.data;if(i.remove({id:s.id}),s.from===s.to){const n=s.from;if(r[n])if(r[n]--,r[n]<6)d.update({id:n,size:40,font:{size:40,vadjust:-80}});else{const a=35+(r[n]-5)*5,h=40+(r[n]-5)*5,j=-80-(r[n]-5)*10;d.update({id:n,size:a,font:{size:h,vadjust:j}})}}b.push(t)}}}if(o.ctrlKey&&o.key==="y"){const t=b.pop();if(t){if(t.type==="addNode")y++,d.add(t.data),v.push(t);else if(t.type==="addEdge"){const s=g.checked,n=t.data;if(n.arrows=s?"to":"",console.log(n),i.add(n),n.from===n.to){const a=n.from;r[a]=(r[a]||0)+1;const h=r[a];if(h>=6){const j=35+(h-5)*5,C=40+(h-5)*5,f=-80-(h-5)*10;d.update({id:a,size:j,font:{size:C,vadjust:f}})}}v.push(t)}}}}),document.addEventListener("keydown",function(o){o.key==="Shift"&&S.classList.add("shift-cursor")}),document.addEventListener("keyup",function(o){o.key==="Shift"&&S.classList.remove("shift-cursor")}),document.getElementById("zoomExtendsButton").addEventListener("click",function(){l.fit()})},[k,E,N])},Y=()=>{const[k,E]=w.useState(!1),[N,d]=w.useState(!1),[i,g]=w.useState(!0);w.useEffect(()=>{A(),F(),H()},[]),R();const m=()=>{E(!k)},u=()=>{d(!N)},p=()=>{g(!i)};return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:"Vẽ đồ thị"}),e.jsxs("div",{className:"fade-in",children:[e.jsx("header",{children:e.jsx("nav",{className:"border-gray-200 transparentColor",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between mx-auto p-4 gap-[20px]",children:[e.jsx(K,{}),e.jsx("div",{className:"hidden w-full md:block md:w-auto",id:"navbar-dropdown",children:e.jsxs("ul",{className:"flex flex-col font-medium p-4 md:p-0 mt-0 border border-gray-100 rounded-lg md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 border-gray-700 transparentColor main-nav",children:[e.jsx("li",{children:e.jsx(c,{to:"/",className:"block py-2 px-3 rounded-sm md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation","aria-current":"page",children:"Trang chủ"})}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink1","data-dropdown-toggle":"dropdownNavbar1",className:"flex items-center justify-between w-full py-2 px-3 rounded-sm md:hover:bg-transparent md:border-0 md:p-0 md:w-auto focus:text-white border-gray-700 bg-blue-700 md:bg-transparent font-bold navigation-checked",children:["Tạo đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar1",className:"z-10 hidden font-normal bg-gray-700 divide-y divide-gray-100 rounded-lg shadow-sm w-30 divide-gray-600",children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(c,{to:"/vedothi",className:"block px-4 py-2 bg-gray-600 text-white",children:"Vẽ đồ thị"})}),e.jsx("li",{children:e.jsx(c,{to:"/nhapdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Nhập đồ thị"})}),e.jsx("li",{children:e.jsx(c,{to:"/chuyendoi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Chuyển đổi"})})]})})]}),e.jsxs("li",{children:[e.jsxs("button",{id:"dropdownNavbarLink2","data-dropdown-toggle":"dropdownNavbar2",className:"flex items-center justify-between w-full py-2 px-3 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:p-0 md:w-auto text-white focus:text-white border-gray-700 hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:["Phân tích đồ thị",e.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),e.jsx("div",{id:"dropdownNavbar2",className:"z-10 hidden font-normal bg-gray-700 divide-y divide-gray-100 rounded-lg shadow-sm w-47 divide-gray-600",children:e.jsxs("ul",{className:"py-2 text-sm text-gray-400","aria-labelledby":"dropdownLargeButton",children:[e.jsx("li",{children:e.jsx(c,{to:"/duyetdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Duyệt đồ thị"})}),e.jsx("li",{children:e.jsx(c,{to:"/timlienthong",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm liên thông"})}),e.jsx("li",{children:e.jsx(c,{to:"/duongdingannhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm đường đi ngắn nhất"})}),e.jsx("li",{children:e.jsx(c,{to:"/xephangdothi",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Xếp hạng đồ thị"})}),e.jsx("li",{children:e.jsx(c,{to:"/caykhungnhonhat",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Cây khung nhỏ nhất"})}),e.jsx("li",{children:e.jsx(c,{to:"/timluongcucdai",className:"block px-4 py-2 hover:bg-gray-600 hover:text-white",children:"Tìm luồng cực đại trong mạng"})})]})})]}),e.jsx("li",{children:e.jsx(c,{to:"/tainguyenhoctap",className:"block py-2 px-3 rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:"Tài nguyên & Học tập"})}),e.jsx("li",{children:e.jsx(c,{to:"/vechungtoi",className:"block py-2 px-3 rounded-sm hover:bg-gray-100 md:border-0 md:p-0 text-white hover:bg-gray-700 md:hover:bg-transparent font-bold navigation",children:"Về chúng tôi"})})]})})]})})}),e.jsxs("main",{id:"vedothi",children:[e.jsxs("div",{id:"controlsform",className:"container",children:[e.jsx("h2",{children:"Vẽ đồ thị"}),e.jsxs("div",{id:"graphOption",children:[e.jsxs("label",{className:"switch",children:["Có trọng số",e.jsx("input",{type:"checkbox",id:"isWeightedGraph",name:"isWeightedGraph",checked:k,onChange:m}),e.jsx("span",{className:"slider"})]}),e.jsxs("label",{className:"switch",children:["Có hướng",e.jsx("input",{type:"checkbox",id:"directed",name:"directed",checked:N,onChange:u}),e.jsx("span",{className:"slider"})]}),e.jsxs("label",{className:"switch",children:["Vật lý",e.jsx("input",{type:"checkbox",id:"physics",name:"physics",checked:i,onChange:p}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"guild",children:[e.jsx("h3",{children:"Hướng dẫn"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Đúp chuột để tạo một nút mới"}),e.jsx("li",{children:"Ấn giữ phím shift và chọn 2 đỉnh bất kì để tạo cung nối liền 2 đỉnh đó"}),e.jsx("li",{children:"Nếu giữ phím shift và đúp 2 lần vào một đỉnh sẽ tạo khuyên"}),e.jsx("li",{children:"Ctrl+Z để quay lại bước trước đó"}),e.jsx("li",{children:"Ctrl+Y để làm lại bước trước đó"}),e.jsx("li",{children:"Nhấp vào cạnh để có thể điền trọng số"})]})]})]}),e.jsxs("div",{className:"graph-container container",children:[e.jsx("div",{id:"mynetwork"}),e.jsx("button",{id:"zoomExtendsButton",children:e.jsx("img",{src:P,alt:"",width:40})})]})]})]})]})};export{Y as default};
